{"version":3,"file":"static/js/864.970b79f2.chunk.js","mappings":"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","sources":["api/orderApi.js","pages/CheckoutPage.jsx","components/BreadcrumbsComponent.jsx"],"sourcesContent":["import { fetchProduct, reduceStockApi } from \"./productApi\";\r\nimport client from \"./client\";\r\n\r\nexport const createOrderApi = async (payload) => {\r\n  const data = payload;\r\n  const orderItems = payload.orderItems;\r\n  try {\r\n    for (const item of orderItems) {\r\n      const product = await fetchProduct(item.productId);\r\n      await reduceStockApi(item.productId, product.stockQuantity - item.quantity);\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n  // Interceptor trong client sẽ tự động đính kèm token\r\n  const res = await client.post(\"/orders\", data);\r\n  return res;\r\n};\r\n\r\nexport const getMyOrdersApi = async (userId, params = {}) => {\r\n  // Interceptor trong client sẽ tự động đính kèm token\r\n  const res = await client.get(`/orders/user/${userId}`, { params });\r\n  return res.data;\r\n};\r\n\r\nexport const getAllOrdersApi = async () => {\r\n  // Interceptor trong client sẽ tự động đính kèm token\r\n  const res = await client.get(\"/orders\");\r\n  return res.data;\r\n};\r\n\r\nexport const updateOrderStatusApi = async (orderId, status) => {\r\n  try {\r\n    // Interceptor trong client sẽ tự động đính kèm token\r\n    const response = await client.patch(`/orders/${orderId}`, { status });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error updating order status for order ${orderId}:`, error.response || error);\r\n    throw error.response?.data || new Error('Failed to update order status');\r\n  }\r\n};","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Container, Grid, Paper, Typography, TextField, Button, Box, Divider, List, ListItem, ListItemText, RadioGroup, FormControlLabel, Radio, FormControl, FormLabel, CircularProgress } from '@mui/material';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { CartContext } from '../context/CartContext';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { toast } from 'react-toastify';\r\nimport BreadcrumbsComponent from '../components/BreadcrumbsComponent';\r\nimport { createOrderApi } from '../api/orderApi';\r\n\r\nconst CheckoutPage = () => {\r\n  const { t, i18n } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const { items, total, clearCart } = useContext(CartContext);\r\n  const { user, isAuthenticated, loading: authLoading } = useContext(AuthContext);\r\n\r\n  const [shippingInfo, setShippingInfo] = useState({\r\n    fullName: user?.fullName || '',\r\n    address: user?.address || '',\r\n    phoneNumber: user?.phoneNumber || '',\r\n    email: user?.email || '',\r\n  });\r\n  const [paymentMethod, setPaymentMethod] = useState('cod'); // 'cod' or 'paypal'\r\n  const [isPlacingOrder, setIsPlacingOrder] = useState(false);\r\n\r\n  const formatPrice = (price) => {\r\n    if (price === null || price === undefined) return '';\r\n    const currentLang = i18n.language.split('-')[0];\r\n    if (currentLang === 'vi') {\r\n      // Tạm thời giả định tỉ giá 1 USD = 25,000 VND.\r\n      const vndPrice = price * 25000;\r\n      return `${vndPrice.toLocaleString('vi-VN')} ₫`;\r\n    }\r\n    return `$${price.toFixed(2)}`;\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Khi context auth hết loading và xác định người dùng chưa đăng nhập\r\n    if (!authLoading && !isAuthenticated) {\r\n      // toast.info(t('cart.loginPrompt'));\r\n      toast.info(t('cart.summary.loginPrompt'));\r\n      // Chuyển hướng về trang đăng nhập và lưu lại trang checkout để quay lại\r\n      navigate('/login', { state: { from: '/checkout' }, replace: true });\r\n    }\r\n  }, [isAuthenticated, authLoading, navigate, t]);\r\n\r\n  const handleInputChange = (e) => {\r\n    setShippingInfo({ ...shippingInfo, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handlePlaceOrder = async (e) => {\r\n    e.preventDefault();\r\n    setIsPlacingOrder(true);\r\n    try {\r\n      const orderPayload = {\r\n        userId: user.id,\r\n        userName: user.fullName,\r\n        orderItems: items.map(item => ({\r\n          productId: item.id,\r\n          quantity: item.qty\r\n        })),\r\n        totalAmount: total,\r\n        status: \"PENDING\"\r\n      };\r\n\r\n      // Gọi API để tạo đơn hàng\r\n      await createOrderApi(orderPayload);\r\n\r\n      toast.success(t('checkout.orderPlacedSuccess'));\r\n      clearCart();\r\n      navigate('/cart'); // Chuyển về trang giỏ hàng sau khi đặt hàng\r\n    } catch (error) {\r\n      console.error(\"Failed to place order:\", error);\r\n      toast.error(error.response?.data?.message || \"Failed to place order. Please try again.\");\r\n    } finally {\r\n      setIsPlacingOrder(false);\r\n    }\r\n  };\r\n\r\n  if (authLoading || !isAuthenticated) {\r\n    return <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '60vh' }}><CircularProgress /></Box>;\r\n  }\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <Container sx={{ textAlign: 'center', mt: 8 }}>\r\n        <Typography variant=\"h5\">{t('checkout.noItems')}</Typography>\r\n        <Button variant=\"contained\" sx={{ mt: 2 }} onClick={() => navigate('/')}>\r\n          {t('cart.continueShopping')}\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n      <BreadcrumbsComponent links={[{ label: t('breadcrumbs.checkout') }]} sx={{ mb: 3 }} />\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom fontWeight=\"bold\">\r\n        {t('checkout.title')}\r\n      </Typography>\r\n      <form onSubmit={handlePlaceOrder}>\r\n        <Grid container spacing={4}>\r\n          {/* Shipping Information */}\r\n          <Grid item xs={12} md={7}>\r\n            <Paper variant=\"outlined\" sx={{ p: 3, borderRadius: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom>{t('checkout.shippingInfo')}</Typography>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12}><TextField required fullWidth name=\"fullName\" label={t('register.fullName')} value={shippingInfo.fullName} onChange={handleInputChange} /></Grid>\r\n                <Grid item xs={12}><TextField required fullWidth name=\"address\" label={t('register.address')} value={shippingInfo.address} onChange={handleInputChange} /></Grid>\r\n                <Grid item xs={12} sm={6}><TextField required fullWidth name=\"phoneNumber\" label={t('register.phoneNumber')} value={shippingInfo.phoneNumber} onChange={handleInputChange} /></Grid>\r\n                <Grid item xs={12} sm={6}><TextField required fullWidth name=\"email\" type=\"email\" label={t('register.email')} value={shippingInfo.email} onChange={handleInputChange} /></Grid>\r\n              </Grid>\r\n            </Paper>\r\n\r\n            {/* Payment Method */}\r\n            <Paper variant=\"outlined\" sx={{ p: 3, mt: 4, borderRadius: 2 }}>\r\n              <FormControl component=\"fieldset\">\r\n                <FormLabel component=\"legend\" sx={{ mb: 1, fontWeight: 'bold', color: 'text.primary' }}>{t('checkout.paymentMethod')}</FormLabel>\r\n                <RadioGroup row name=\"paymentMethod\" value={paymentMethod} onChange={(e) => setPaymentMethod(e.target.value)}>\r\n                  <FormControlLabel value=\"cod\" control={<Radio />} label={t('checkout.cod')} />\r\n                  <FormControlLabel value=\"paypal\" control={<Radio />} label={t('checkout.paypal')} disabled />\r\n                </RadioGroup>\r\n              </FormControl>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* Order Summary */}\r\n          <Grid item xs={12} md={5}>\r\n            <Paper variant=\"outlined\" sx={{ p: 3, position: 'sticky', top: 88, borderRadius: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom>{t('cart.summary.title')}</Typography>\r\n              <Divider />\r\n              <List>\r\n                {items.map(item => (\r\n                  <ListItem key={item.id} disableGutters>\r\n                    <ListItemText primary={`${item.name} (x${item.qty})`} secondary={item.author} />\r\n                    <Typography variant=\"body2\">{formatPrice(item.price * item.qty)}</Typography>\r\n                  </ListItem>\r\n                ))}\r\n              </List>\r\n              <Divider />\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', my: 2 }}>\r\n                <Typography>{t('cart.summary.subtotal', { count: items.length })}</Typography>\r\n                <Typography fontWeight=\"bold\">{formatPrice(total)}</Typography>\r\n              </Box>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\r\n                <Typography>{t('cart.summary.shipping')}</Typography>\r\n                <Typography fontWeight=\"bold\">{t('cart.summary.free')}</Typography>\r\n              </Box>\r\n              <Divider />\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 2, mb: 3 }}>\r\n                <Typography variant=\"h5\" fontWeight=\"bold\">{t('cart.summary.total')}</Typography>\r\n                <Typography variant=\"h5\" fontWeight=\"bold\">{formatPrice(total)}</Typography>\r\n              </Box>\r\n              <Button type=\"submit\" fullWidth variant=\"contained\" size=\"large\" disabled={isPlacingOrder}>\r\n                {isPlacingOrder ? (\r\n                  <CircularProgress size={26} color=\"inherit\" />\r\n                ) : (\r\n                  t('checkout.placeOrder')\r\n                )}\r\n              </Button>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CheckoutPage;\r\n","import React from 'react';\r\nimport { Breadcrumbs as MuiBreadcrumbs, Link, Typography, Container } from '@mui/material';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\n\r\n/**\r\n * A reusable breadcrumbs component.\r\n * @param {Object} props\r\n * @param {Array<Object>} props.links - An array of link objects. Each object should have `to` (optional) and `label`.\r\n * e.g. [{ to: '/products', label: 'Products' }, { label: 'Product Name' }]\r\n */\r\nconst BreadcrumbsComponent = ({ links = [] }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const allLinks = [\r\n    { to: '/', label: t('breadcrumbs.home'), icon: <HomeIcon sx={{ mr: 2, fontSize: 'inherit' }} /> },\r\n    ...links,\r\n  ];\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ pt: 0, pb: { xs: 1, md: 2 } }}>\r\n      <MuiBreadcrumbs aria-label=\"breadcrumb\">\r\n        {allLinks.map((link, index) => {\r\n          const isLast = index === allLinks.length - 1;\r\n          if (isLast) {\r\n            return (\r\n              <Typography\r\n                key={index}\r\n                color=\"text.primary\"\r\n                sx={{ display: 'flex', alignItems: 'center' }}\r\n              >\r\n                {link.icon}\r\n                {link.label}\r\n              </Typography>\r\n            );\r\n          }\r\n          return (\r\n            <Link\r\n              component={RouterLink}\r\n              to={link.to}\r\n              key={index}\r\n              underline=\"hover\"\r\n              color=\"inherit\"\r\n              sx={{ display: 'flex', alignItems: 'center' }}\r\n            >\r\n              {link.icon}\r\n              {link.label}\r\n            </Link>\r\n          );\r\n        })}\r\n      </MuiBreadcrumbs>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default BreadcrumbsComponent;\r\n"],"names":["createOrderApi","async","data","payload","orderItems","item","product","fetchProduct","productId","reduceStockApi","stockQuantity","quantity","error","console","client","post","getMyOrdersApi","userId","params","arguments","length","undefined","get","concat","getAllOrdersApi","updateOrderStatusApi","orderId","status","patch","_error$response","response","Error","CheckoutPage","t","i18n","useTranslation","navigate","useNavigate","items","total","clearCart","useContext","CartContext","user","isAuthenticated","loading","authLoading","AuthContext","shippingInfo","setShippingInfo","useState","fullName","address","phoneNumber","email","paymentMethod","setPaymentMethod","isPlacingOrder","setIsPlacingOrder","formatPrice","price","language","split","toLocaleString","toFixed","useEffect","toast","info","state","from","replace","handleInputChange","e","_objectSpread","target","name","value","_jsx","Box","sx","display","justifyContent","alignItems","height","children","CircularProgress","_jsxs","Container","textAlign","mt","Typography","variant","Button","onClick","maxWidth","mb","BreadcrumbsComponent","links","label","component","gutterBottom","fontWeight","onSubmit","preventDefault","orderPayload","id","userName","map","qty","totalAmount","success","_error$response$data","message","Grid","container","spacing","xs","md","Paper","p","borderRadius","TextField","required","fullWidth","onChange","sm","type","FormControl","FormLabel","color","RadioGroup","row","FormControlLabel","control","Radio","disabled","position","top","Divider","List","ListItem","disableGutters","ListItemText","primary","secondary","author","my","count","size","_ref","allLinks","to","icon","HomeIcon","mr","fontSize","pt","pb","MuiBreadcrumbs","link","index","Link","RouterLink","underline"],"ignoreList":[],"sourceRoot":""}