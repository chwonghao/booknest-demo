{"version":3,"file":"static/js/838.73f7a939.chunk.js","mappings":"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","sources":["components/ProductCard.jsx","components/PromotionalBanners.jsx","components/CategoryBar.jsx","components/CategoryProductSection.jsx","pages/HomePage.jsx","api/categoryApi.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Box, Typography, Card, CardContent, CardMedia, Button, Chip, CardActionArea } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport RemoveShoppingCartIcon from '@mui/icons-material/RemoveShoppingCart';\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { CartContext } from '../context/CartContext';\nimport { toast } from 'react-toastify';\n\nconst ProductCard = ({ product, showAddToCartButton = true }) => {\n    const { t, i18n } = useTranslation();\n    const { addItem } = useContext(CartContext);\n    // Mock discount calculation if originalPrice is available\n    const discount = product.originalPrice ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100) : 0;\n    const isOutOfStock = product.stockQuantity === 0;\n\n    const handleAddToCart = (e) => {\n        e.preventDefault(); // Stop the card's navigation event\n        e.stopPropagation(); // Stop event bubbling\n        addItem(product);\n        toast.success(t('product.addedToCart', { name: product.name }));\n    };\n\n    const formatPrice = (price) => {\n        if (price === null || price === undefined) return '';\n        const currentLang = i18n.language.split('-')[0];\n        if (currentLang === 'vi') {\n          // Tạm thời giả định tỉ giá 1 USD = 25,000 VND.\n          const vndPrice = price * 25000;\n          return `${vndPrice.toLocaleString('vi-VN')} ₫`;\n        }\n        return `$${price.toFixed(2)}`;\n      };\n\n    return (\n        <Card sx={{ \n            height: '100%', \n            display: 'flex', \n            flexDirection: 'column',\n            opacity: isOutOfStock ? 0.6 : 1,\n            position: 'relative'\n        }}>\n            <CardActionArea component={RouterLink} to={`/products/${product.id}`} sx={{ flexGrow: 1 }}>\n                <Box sx={{ position: 'relative' }}>\n                    <CardMedia\n                        component=\"img\"\n                        height=\"240\"\n                        image={product.imageUrl} // Placeholder image\n                        alt={product.name}\n                    />\n                    {discount > 0 && (\n                        <Chip \n                            label={`-${discount}%`} \n                            color=\"secondary\" \n                            size=\"small\"\n                            sx={{ position: 'absolute', top: 8, right: 8, fontWeight: 'bold' }} \n                        />\n                    )}\n                    {isOutOfStock && (\n                        <Chip \n                            label={t('product.outOfStock')}\n                            color=\"error\" \n                            size=\"small\"\n                            sx={{ position: 'absolute', top: 8, left: 8, fontWeight: 'bold' }} \n                        />\n                    )}\n                </Box>\n                <CardContent>\n                    <Typography gutterBottom variant=\"h6\" component=\"div\" noWrap title={product.name}>\n                        {product.name}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\" mb={1}>\n                        {product.authors || t('product.unknownAuthor')}\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <Typography variant=\"h5\" color=\"primary.main\" fontWeight=\"bold\">\n                            {formatPrice(product.price)}\n                        </Typography>\n                        {discount > 0 && (\n                            <Typography variant=\"body2\" sx={{ textDecoration: 'line-through' }} color=\"text.secondary\">\n                                {formatPrice(product.originalPrice)}\n                            </Typography>\n                        )}\n                    </Box>\n                </CardContent>\n            </CardActionArea>\n            {showAddToCartButton && (\n                <Box sx={{ p: 2, pt: 0 }}>\n                    <Button \n                        fullWidth \n                        variant=\"contained\" \n                        color=\"primary\" \n                        startIcon={isOutOfStock ? <RemoveShoppingCartIcon /> : <AddShoppingCartIcon />}\n                        onClick={handleAddToCart}\n                        disabled={isOutOfStock}\n                        sx={{ bgcolor: isOutOfStock ? 'grey.400' : 'primary.main' }}\n                    >\n                        {isOutOfStock ? t('product.outOfStock') : t('product.addToCart')}\n                    </Button>\n                </Box>\n            )}\n        </Card>\n    );\n}\n\nexport default ProductCard;\n","import React from 'react';\nimport { Box, Typography, Paper } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { Navigation, Pagination, Autoplay } from 'swiper/modules';\n\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst PromotionalBanners = () => {\n  const { t } = useTranslation();\n  return (\n  <Box mb={4}>\n    <Swiper\n      modules={[Navigation, Pagination, Autoplay]}\n      spaceBetween={30}\n      slidesPerView={1}\n      navigation\n      pagination={{ clickable: true }}\n      autoplay={{ delay: 3500 }}\n      loop={true}\n    >\n      {[...Array(3)].map((_, index) => (\n        <SwiperSlide key={index}>\n          <Paper \n            elevation={3}\n            sx={{ \n              height: 350, \n              display: 'flex', \n              alignItems: 'center', \n              justifyContent: 'center',\n              borderRadius: 2,\n              background: 'linear-gradient(45deg, #0D7EBE 30%, #65A9D7 90%)',\n              color: 'white'\n            }}\n          >\n            <Typography variant=\"h3\" component=\"h2\" fontWeight=\"bold\">\n                {t('home.promotionBanner')} {index + 1}\n            </Typography>\n          </Paper>\n        </SwiperSlide>\n      ))}\n    </Swiper>\n  </Box>\n  );\n};\n\nexport default PromotionalBanners;\n","import React, { useEffect, useState } from 'react';\nimport { Box, Typography, Grid, Paper, CardActionArea } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { fetchCategories } from '../api/categoryApi';\nimport CategoryIcon from '@mui/icons-material/Category'; // Placeholder icon\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst CategoryBar = () => {\n    const { t } = useTranslation();\n    const [categories, setCategories] = useState([]);\n    \n    useEffect(() => {\n        const getCategories = async () => {\n            try {\n                const cats = await fetchCategories();\n                setCategories(cats.slice(0, 8)); // Limit to 8 categories for a clean look\n            } catch (error) {\n                console.error(\"Failed to fetch categories:\", error);\n            }\n        }\n        getCategories();\n    }, []);\n\n    return (\n        <Box mb={5}>\n            <Typography variant=\"h4\" gutterBottom fontWeight=\"bold\">\n                {t('home.categories')}\n            </Typography>\n            <Grid container spacing={2}>\n                {categories.map(cat => (\n                    <Grid item xs={6} sm={4} md={3} lg={1.5} key={cat.id} sx={{ display: 'flex' }}>\n                        <CardActionArea component={RouterLink} to={`/products?category=${cat.id}`} sx={{ borderRadius: 1, height: '100%' }}>\n                            <Paper \n                                elevation={1} \n                                sx={{ \n                                    p: 2, \n                                    width: '100%',\n                                    height: '100%',\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    transition: 'box-shadow 0.3s',\n                                    '&:hover': {\n                                        boxShadow: 3, \n                                    } \n                                }}\n                            >\n                                <CategoryIcon color=\"primary\" sx={{fontSize: 40, mb: 1}} />\n                                <Typography variant=\"subtitle1\" component=\"h3\" align=\"center\" sx={{ color: 'text.primary' }}>\n                                    {cat.name}\n                                </Typography>\n                            </Paper>\n                        </CardActionArea>\n                    </Grid>\n                ))}\n            </Grid>\n        </Box>\n    );\n}\n\nexport default CategoryBar;\n","import React, { useEffect, useState } from 'react';\r\nimport { Box, Typography, Grid, CircularProgress, Button } from '@mui/material';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { fetchProducts } from '../api/productApi';\r\nimport ProductCard from './ProductCard';\r\n\r\nconst CategoryProductSection = ({ category, showAddToCartButton = true }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const getProducts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const data = await fetchProducts({ categoryId: category.id, limit: 4 });\r\n        const sortedData = (data || []).sort((a, b) => {\r\n          if (a.stockQuantity > 0 && b.stockQuantity === 0) {\r\n            return -1;\r\n          }\r\n          if (a.stockQuantity === 0 && b.stockQuantity > 0) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        });\r\n        setProducts(sortedData);\r\n      } catch (err) {\r\n        console.error(`Failed to fetch products for category ${category.name}:`, err);\r\n        setProducts([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    getProducts();\r\n  }, [category]);\r\n\r\n  if (loading) {\r\n    return <CircularProgress sx={{ display: 'block', margin: 'auto', my: 4 }} />;\r\n  }\r\n\r\n  if (products.length === 0) {\r\n    return null; // Không hiển thị gì nếu danh mục không có sản phẩm\r\n  }\r\n\r\n  return (\r\n    <Box component=\"section\" sx={{ mb: 5 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n        <Typography variant=\"h4\" gutterBottom fontWeight=\"bold\">\r\n          {category.name}\r\n        </Typography>\r\n        <Button component={RouterLink} to={`/products?category=${category.id}`}>Xem thêm</Button>\r\n      </Box>\r\n      <Grid container spacing={3}>\r\n        {products.map((product) => (\r\n          <Grid item xs={12} sm={6} md={4} lg={3} key={product.id}>\r\n            <ProductCard product={product} showAddToCartButton={showAddToCartButton} />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CategoryProductSection;","import React, { useEffect, useState } from 'react';\nimport { Box, Typography, CircularProgress, Container } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { Navigation, Pagination, Autoplay } from 'swiper/modules';\n\n// Import Swiper styles\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination'; \nimport { fetchProducts } from '../api/productApi';\nimport { fetchCategories } from '../api/categoryApi';\n\n// Refactored Components\nimport PromotionalBanners from '../components/PromotionalBanners';\nimport CategoryBar from '../components/CategoryBar';\nimport ProductCard from '../components/ProductCard';\nimport CategoryProductSection from '../components/CategoryProductSection';\n\nconst HomePage = () => {\n  const { t } = useTranslation();\n  const [featuredProducts, setFeaturedProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true); // Chỉ dùng cho featured products\n  const [error, setError] = useState(null); // Chỉ dùng cho featured products\n\n  useEffect(() => {\n    // Lấy sản phẩm nổi bật\n    const getProducts = async () => {\n      try {\n        setLoading(true);\n        // Mock originalPrice for discount calculation demonstration\n        const data = (await fetchProducts({ type: 'featured' }))\n          .filter(p => p.stockQuantity > 0) // Lọc bỏ sản phẩm đã hết hàng\n          .map(p => ({\n            ...p, \n            originalPrice: p.price && p.price > 0 ? Math.round(p.price * 1.25) : 0\n          }));\n        setFeaturedProducts(data);\n        setError(null);\n      } catch (err) {\n        setError(err.message);\n        setFeaturedProducts([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getProducts();\n\n    // Lấy danh sách các danh mục\n    const getCategories = async () => {\n      try {\n        const cats = await fetchCategories();\n        setCategories(cats);\n      } catch (error) {\n        console.error(\"Failed to fetch categories on HomePage:\", error);\n      }\n    };\n    getCategories();\n  }, []);\n\n  return (\n    <Container maxWidth=\"lg\">\n        <PromotionalBanners />\n        <CategoryBar />\n      \n        <Box component=\"section\" sx={{ mb: 5 }}>\n            <Typography variant=\"h4\" gutterBottom fontWeight=\"bold\">\n                {t('home.featuredBooks')}\n            </Typography>\n            {loading && <CircularProgress />}\n            {error && <Typography color=\"error\" align=\"center\">{error}</Typography>}\n            <Swiper\n              modules={[Navigation, Pagination, Autoplay]}\n              spaceBetween={24}\n              slidesPerView={4}\n              navigation\n              pagination={{ clickable: true }}\n              autoplay={{\n                delay: 3000,\n                disableOnInteraction: false,\n              }}\n              loop={true}\n              breakpoints={{\n                // when window width is >= 320px\n                320: { slidesPerView: 1, spaceBetween: 10 },\n                // when window width is >= 600px\n                600: { slidesPerView: 2, spaceBetween: 15 },\n                // when window width is >= 900px\n                900: { slidesPerView: 3, spaceBetween: 20 },\n                // when window width is >= 1200px\n                1200: { slidesPerView: 4, spaceBetween: 24 },\n              }}\n            >\n              {featuredProducts.map((product) => (\n                <SwiperSlide key={product.id} style={{ height: 'auto' }}>\n                  <ProductCard product={product} showAddToCartButton={false} />\n                </SwiperSlide>\n              ))}\n            </Swiper>\n        </Box>\n\n        {/* Render các section sản phẩm theo từng danh mục */}\n        {categories.map(category => (\n          <CategoryProductSection key={category.id} category={category} showAddToCartButton={false} />\n        ))}\n    </Container>\n  );\n};\n\nexport default HomePage;\n","import client from \"./client\";\r\n\r\nexport async function fetchCategories() {\r\n  try {\r\n    const response = await client.get(\"/categories\");\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching categories:\", error);\r\n    // Trả về mảng rỗng hoặc throw lỗi tùy theo cách bạn muốn xử lý ở component\r\n    return []; \r\n  }\r\n}\r\n\r\n// Lấy category theo id\r\nexport async function fetchCategoryById(id) {\r\n  try {\r\n    const response = await client.get(`/categories/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error fetching category ${id}:`, error);\r\n    // Trả về null hoặc throw lỗi\r\n    return null;\r\n  }\r\n}\r\n\r\n// Lấy products theo category id\r\nexport async function fetchProductsByCategory(id) {\r\n  try {\r\n    const response = await client.get(`/categories/${id}/products`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error fetching products for category ${id}:`, error);\r\n    return [];\r\n  }\r\n}\r\n"],"names":["_ref","product","showAddToCartButton","t","i18n","useTranslation","addItem","useContext","CartContext","discount","originalPrice","Math","round","price","isOutOfStock","stockQuantity","formatPrice","undefined","language","split","concat","toLocaleString","toFixed","_jsxs","Card","sx","height","display","flexDirection","opacity","position","children","CardActionArea","component","RouterLink","to","id","flexGrow","Box","_jsx","CardMedia","image","imageUrl","alt","name","Chip","label","color","size","top","right","fontWeight","left","CardContent","Typography","gutterBottom","variant","noWrap","title","mb","authors","alignItems","gap","textDecoration","p","pt","Button","fullWidth","startIcon","RemoveShoppingCartIcon","AddShoppingCartIcon","onClick","e","preventDefault","stopPropagation","toast","success","disabled","bgcolor","PromotionalBanners","Swiper","modules","Navigation","Pagination","Autoplay","spaceBetween","slidesPerView","navigation","pagination","clickable","autoplay","delay","loop","Array","map","_","index","SwiperSlide","Paper","elevation","justifyContent","borderRadius","background","CategoryBar","categories","setCategories","useState","useEffect","async","cats","fetchCategories","slice","error","console","getCategories","Grid","container","spacing","cat","item","xs","sm","md","lg","width","transition","boxShadow","CategoryIcon","fontSize","align","category","products","setProducts","loading","setLoading","sortedData","fetchProducts","categoryId","limit","sort","a","b","err","getProducts","CircularProgress","margin","my","length","ProductCard","HomePage","featuredProducts","setFeaturedProducts","setError","data","type","filter","_objectSpread","message","Container","maxWidth","disableOnInteraction","breakpoints","style","CategoryProductSection","client","get","fetchProductsByCategory"],"ignoreList":[],"sourceRoot":""}