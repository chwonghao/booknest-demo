"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[703],{1702:(e,t,r)=>{var o=r(4994);t.A=void 0;var s=o(r(39)),l=r(579);t.A=(0,s.default)((0,l.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout")},1819:(e,t,r)=>{r.d(t,{OL:()=>d,Qt:()=>i,ZS:()=>c,zr:()=>n});var o=r(2554);let s=[{id:101,userId:1,orderDate:new Date("2023-10-26T10:00:00Z").toISOString(),status:"DELIVERED",totalAmount:229e3,shippingAddress:{fullName:"Ng\u01b0\u1eddi D\xf9ng Demo",address:"123 \u0110\u01b0\u1eddng ABC, Qu\u1eadn 1, TP. HCM",phoneNumber:"0123456789"},orderItems:[{productId:1,name:"L\u01b0\u1ee3c S\u1eed Lo\xe0i Ng\u01b0\u1eddi",quantity:1,price:15e4},{productId:2,name:"Nh\xe0 Gi\u1ea3 Kim",quantity:1,price:79e3}]},{id:102,userId:1,orderDate:new Date("2023-10-28T14:30:00Z").toISOString(),status:"PENDING",totalAmount:165e3,shippingAddress:{fullName:"Ng\u01b0\u1eddi D\xf9ng Demo",address:"123 \u0110\u01b0\u1eddng ABC, Qu\u1eadn 1, TP. HCM",phoneNumber:"0123456789"},orderItems:[{productId:4,name:"Sapiens: L\u01b0\u1ee3c S\u1eed T\u01b0\u01a1ng Lai",quantity:1,price:165e3}]}],l=103;const a=e=>new Promise(t=>setTimeout(t,e)),n=async e=>{await a(1e3),console.log("MOCK: createOrderApi",e);try{for(const t of e.orderItems){const e=await(0,o.yj)(t.productId);await(0,o.NM)(t.productId,e.stockQuantity-t.quantity)}}catch(r){throw console.error("MOCK: L\u1ed7i tr\u1eeb kho khi t\u1ea1o \u0111\u01a1n h\xe0ng",r),new Error("Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt kho, \u0111\u01a1n h\xe0ng ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o.")}const t={id:l++,userId:e.userId,orderDate:(new Date).toISOString(),status:"PENDING",totalAmount:e.totalAmount,orderItems:e.orderItems,shippingAddress:e.shippingAddress};return s.push(t),{data:t}},i=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await a(500),console.log("MOCK: getMyOrdersApi for user ".concat(e),{params:t}),s.filter(t=>t.userId.toString()===e.toString())},c=async()=>(await a(500),console.log("MOCK: getAllOrdersApi"),[...s]),d=async(e,t)=>{await a(300),console.log("MOCK: updateOrderStatusApi for order ".concat(e," to status ").concat(t));const r=s.find(t=>t.id.toString()===e.toString());if(r)return r.status=t,r;throw new Error("Order not found")}},2177:(e,t,r)=>{var o=r(4994);t.A=void 0;var s=o(r(39)),l=r(579);t.A=(0,s.default)((0,l.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},2368:(e,t,r)=>{var o=r(4994);t.A=void 0;var s=o(r(39)),l=r(579);t.A=(0,s.default)((0,l.jsx)("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2m4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2z"}),"ShoppingBag")},2452:(e,t,r)=>{r.d(t,{A:()=>p});r(5043);var o=r(9252),s=r(2698),l=r(5865),a=r(8446),n=r(8163),i=r(4117),c=r(3639),d=r(579);const p=e=>{let{links:t=[]}=e;const{t:r}=(0,i.Bd)(),p=[{to:"/",label:r("breadcrumbs.home"),icon:(0,d.jsx)(c.A,{sx:{mr:2,fontSize:"inherit"}})},...t];return(0,d.jsx)(o.A,{maxWidth:"lg",sx:{pt:0,pb:{xs:1,md:2}},children:(0,d.jsx)(s.A,{"aria-label":"breadcrumb",children:p.map((e,t)=>t===p.length-1?(0,d.jsxs)(l.A,{color:"text.primary",sx:{display:"flex",alignItems:"center"},children:[e.icon,e.label]},t):(0,d.jsxs)(a.A,{component:n.N_,to:e.to,underline:"hover",color:"inherit",sx:{display:"flex",alignItems:"center"},children:[e.icon,e.label]},t))})})}},2577:(e,t,r)=>{var o=r(4994);t.A=void 0;var s=o(r(39)),l=r(579);t.A=(0,s.default)((0,l.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings")},2698:(e,t,r)=>{r.d(t,{A:()=>z});var o=r(8168),s=r(8587),l=r(5043),a=r(8387),n=r(8610),i=r(8092),c=r(4535),d=r(8206),p=r(5865),u=r(7266),m=r(9662),h=r(579);const A=(0,m.A)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var x=r(6236);const g=["slots","slotProps"],f=(0,c.Ay)(x.A,{name:"MuiBreadcrumbCollapsed"})(e=>{let{theme:t}=e;return(0,o.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,o.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,o.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,u.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,u.tL)(t.palette.grey[600],.12)})})}),v=(0,c.Ay)(A)({width:24,height:16});const j=function(e){const{slots:t={},slotProps:r={}}=e,l=(0,s.A)(e,g),a=e;return(0,h.jsx)("li",{children:(0,h.jsx)(f,(0,o.A)({focusRipple:!0},l,{ownerState:a,children:(0,h.jsx)(v,(0,o.A)({as:t.CollapsedIcon,ownerState:a},r.collapsedIcon))}))})};var y=r(2532),b=r(2372);function C(e){return(0,b.Ay)("MuiBreadcrumbs",e)}const S=(0,y.A)("MuiBreadcrumbs",["root","ol","li","separator"]),w=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],I=(0,c.Ay)(p.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(S.li)]:t.li},t.root]})({}),M=(0,c.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),N=(0,c.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function L(e,t,r,o){return e.reduce((s,l,a)=>(a<e.length-1?s=s.concat(l,(0,h.jsx)(N,{"aria-hidden":!0,className:t,ownerState:o,children:r},"separator-".concat(a))):s.push(l),s),[])}const z=l.forwardRef(function(e,t){const r=(0,d.b)({props:e,name:"MuiBreadcrumbs"}),{children:c,className:p,component:u="nav",slots:m={},slotProps:A={},expandText:x="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:f=1,maxItems:v=8,separator:y="/"}=r,b=(0,s.A)(r,w),[S,N]=l.useState(!1),z=(0,o.A)({},r,{component:u,expanded:S,expandText:x,itemsAfterCollapse:g,itemsBeforeCollapse:f,maxItems:v,separator:y}),k=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},C,t)})(z),O=(0,i.A)({elementType:m.CollapsedIcon,externalSlotProps:A.collapsedIcon,ownerState:z}),D=l.useRef(null),B=l.Children.toArray(c).filter(e=>l.isValidElement(e)).map((e,t)=>(0,h.jsx)("li",{className:k.li,children:e},"child-".concat(t)));return(0,h.jsx)(I,(0,o.A)({ref:t,component:u,color:"text.secondary",className:(0,a.A)(k.root,p),ownerState:z},b,{children:(0,h.jsx)(M,{className:k.ol,ref:D,ownerState:z,children:L(S||v&&B.length<=v?B:(e=>f+g>=e.length?e:[...e.slice(0,f),(0,h.jsx)(j,{"aria-label":x,slots:{CollapsedIcon:m.CollapsedIcon},slotProps:{collapsedIcon:O},onClick:()=>{N(!0);const e=D.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(B),k.separator,y,z)})}))})},3639:(e,t,r)=>{var o=r(4994);t.A=void 0;var s=o(r(39)),l=r(579);t.A=(0,s.default)((0,l.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home")},4194:(e,t,r)=>{r.d(t,{A:()=>O});var o=r(8587),s=r(8168),l=r(5043),a=r(8387),n=r(8610),i=r(7266),c=r(4535),d=r(8206),p=r(4162),u=r(6803),m=r(3336),h=r(2532),A=r(2372);function x(e){return(0,A.Ay)("MuiAlert",e)}const g=(0,h.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var f=r(7392),v=r(9662),j=r(579);const y=(0,v.A)((0,j.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),b=(0,v.A)((0,j.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),C=(0,v.A)((0,j.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),S=(0,v.A)((0,j.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),w=(0,v.A)((0,j.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),I=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],M=(0,c.Ay)(m.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat((0,u.A)(r.color||r.severity))]]}})(e=>{let{theme:t}=e;const r="light"===t.palette.mode?i.e$:i.a,o="light"===t.palette.mode?i.a:i.e$;return(0,s.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[s]=e;return{props:{colorSeverity:s,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(s,"Color")]:r(t.palette[s].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(s,"StandardBg")]:o(t.palette[s].light,.9),["& .".concat(g.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(s,"IconColor")]}:{color:t.palette[s].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:r(t.palette[o].light,.6),border:"1px solid ".concat((t.vars||t).palette[o].light),["& .".concat(g.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:(0,s.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}})]})}),N=(0,c.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),L=(0,c.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),z=(0,c.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),k={success:(0,j.jsx)(y,{fontSize:"inherit"}),warning:(0,j.jsx)(b,{fontSize:"inherit"}),error:(0,j.jsx)(C,{fontSize:"inherit"}),info:(0,j.jsx)(S,{fontSize:"inherit"})},O=l.forwardRef(function(e,t){const r=(0,d.b)({props:e,name:"MuiAlert"}),{action:l,children:i,className:c,closeText:m="Close",color:h,components:A={},componentsProps:g={},icon:v,iconMapping:y=k,onClose:b,role:C="alert",severity:S="success",slotProps:O={},slots:D={},variant:B="standard"}=r,P=(0,o.A)(r,I),E=(0,s.A)({},r,{color:h,severity:S,variant:B,colorSeverity:h||S}),R=(e=>{const{variant:t,color:r,severity:o,classes:s}=e,l={root:["root","color".concat((0,u.A)(r||o)),"".concat(t).concat((0,u.A)(r||o)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,n.A)(l,x,s)})(E),W={slots:(0,s.A)({closeButton:A.CloseButton,closeIcon:A.CloseIcon},D),slotProps:(0,s.A)({},g,O)},[T,H]=(0,p.A)("closeButton",{elementType:f.A,externalForwardedProps:W,ownerState:E}),[V,F]=(0,p.A)("closeIcon",{elementType:w,externalForwardedProps:W,ownerState:E});return(0,j.jsxs)(M,(0,s.A)({role:C,elevation:0,ownerState:E,className:(0,a.A)(R.root,c),ref:t},P,{children:[!1!==v?(0,j.jsx)(N,{ownerState:E,className:R.icon,children:v||y[S]||k[S]}):null,(0,j.jsx)(L,{ownerState:E,className:R.message,children:i}),null!=l?(0,j.jsx)(z,{ownerState:E,className:R.action,children:l}):null,null==l&&b?(0,j.jsx)(z,{ownerState:E,className:R.action,children:(0,j.jsx)(T,(0,s.A)({size:"small","aria-label":m,title:m,color:"inherit",onClick:b},H,{children:(0,j.jsx)(V,(0,s.A)({fontSize:"small"},F))}))}):null]}))})},8703:(e,t,r)=>{r.r(t),r.d(t,{default:()=>P});var o=r(9379),s=r(5043),l=r(6446),a=r(5865),n=r(9336),i=r(8903),c=r(5795),d=r(1906),p=r(1637),u=r(3845),m=r(8911),h=r(3336),A=r(4194),x=r(9252),g=r(1045),f=r(5721),v=r(8968),j=r(2050),y=r(8734),b=r(4117),C=r(2177),S=r(2368),w=r(2577),I=r(1702),M=r(8036),N=r(8163),L=r(1819),z=r(1489),k=r(2452),O=r(579);const D=e=>{let{user:t,onUpdate:r}=e;const{t:p}=(0,b.Bd)(),[u,m]=(0,s.useState)(!1),[h,A]=(0,s.useState)({fullName:t.fullName||"",phoneNumber:t.phoneNumber||"",address:t.address||""}),x=e=>{A((0,o.A)((0,o.A)({},h),{},{[e.target.name]:e.target.value}))};return(0,O.jsxs)(l.A,{component:"form",onSubmit:async e=>{e.preventDefault(),m(!0);try{console.log("Updating profile with:",h);const e=await(0,z.LY)(t.id,h);r(e),alert(p("profile.updateSuccess"))}catch(l){var o,s;console.error("Failed to update profile:",l);const e=(null===(o=l.response)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message)||"Failed to update profile.";alert("".concat(p("profile.updateError"),": ").concat(e))}finally{m(!1)}},children:[(0,O.jsx)(a.A,{variant:"h5",component:"h2",gutterBottom:!0,fontWeight:"bold",children:p("profile.myAccountDetails")}),(0,O.jsx)(n.A,{sx:{mb:3}}),(0,O.jsxs)(i.Ay,{container:!0,spacing:3,children:[(0,O.jsx)(i.Ay,{item:!0,xs:12,children:(0,O.jsx)(c.A,{label:p("profile.emailAddress"),value:t.email,fullWidth:!0,disabled:!0,variant:"filled"})}),(0,O.jsx)(i.Ay,{item:!0,xs:12,children:(0,O.jsx)(c.A,{name:"fullName",label:p("profile.fullName"),value:h.fullName,onChange:x,fullWidth:!0,required:!0})}),(0,O.jsx)(i.Ay,{item:!0,xs:12,md:6,children:(0,O.jsx)(c.A,{name:"phoneNumber",label:p("profile.phoneNumber"),value:h.phoneNumber,onChange:x,fullWidth:!0})}),(0,O.jsx)(i.Ay,{item:!0,xs:12,children:(0,O.jsx)(c.A,{name:"address",label:p("profile.address"),value:h.address,onChange:x,fullWidth:!0,multiline:!0,rows:3})}),(0,O.jsx)(i.Ay,{item:!0,xs:12,children:(0,O.jsx)(d.A,{type:"submit",variant:"contained",color:"primary",disabled:u,children:p(u?"profile.saving":"profile.saveChanges")})})]})]})},B=()=>{const{t:e}=(0,b.Bd)(),[t,r]=(0,s.useState)([]),[o,l]=(0,s.useState)(!0),{user:c}=(0,s.useContext)(M.c);if((0,s.useEffect)(()=>{null!==c&&void 0!==c&&c.id&&(async()=>{try{const e=await(0,L.Qt)(c.id);r(e)}catch(e){console.error("Failed to fetch orders:",e)}finally{l(!1)}})()},[null===c||void 0===c?void 0:c.id]),o)return(0,O.jsx)(p.A,{});if(0===t.length)return(0,O.jsx)(a.A,{children:e("orders.noOrders")});const d=e=>{switch(e){case"PENDING":return(0,O.jsx)(u.A,{label:e,color:"warning",size:"small"});case"COMPLETED":return(0,O.jsx)(u.A,{label:e,color:"success",size:"small"});case"CANCELLED":return(0,O.jsx)(u.A,{label:e,color:"error",size:"small"});default:return(0,O.jsx)(u.A,{label:e,size:"small"})}};return(0,O.jsxs)(m.A,{spacing:3,children:[(0,O.jsx)(a.A,{variant:"h5",component:"h2",gutterBottom:!0,fontWeight:"bold",children:e("profile.myOrders")}),t.map(e=>(0,O.jsxs)(h.A,{variant:"outlined",sx:{p:2},children:[(0,O.jsxs)(i.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,O.jsxs)(i.Ay,{item:!0,xs:12,md:6,children:[(0,O.jsxs)(a.A,{variant:"subtitle1",fontWeight:"bold",children:["Order #",e.id]}),(0,O.jsx)(a.A,{variant:"body2",color:"text.secondary",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,O.jsx)(i.Ay,{item:!0,xs:6,md:3,sx:{textAlign:{md:"center"}},children:d(e.status)}),(0,O.jsx)(i.Ay,{item:!0,xs:6,md:3,sx:{textAlign:"right"},children:(0,O.jsxs)(a.A,{variant:"subtitle1",fontWeight:"bold",children:["$",e.totalAmount.toFixed(2)]})})]}),(0,O.jsx)(n.A,{sx:{my:2}}),(0,O.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Items:"}),e.orderItems.filter(e=>e.quantity>0).map((e,t)=>(0,O.jsxs)(a.A,{variant:"body2",sx:{pl:2},children:["- Product ID: ",e.productId,", Quantity: ",e.quantity]},t))]},e.id))]})},P=()=>{const{t:e}=(0,b.Bd)(),{user:t,updateUser:r,logout:o,isAuthenticated:c,isAdminView:m,toggleAdminView:L,loading:z}=(0,s.useContext)(M.c),P=(0,N.Zp)(),[E,R]=(0,s.useState)("details");if(!z&&!c)return(0,O.jsxs)(A.A,{severity:"warning",sx:{m:3},children:["Please ",(0,O.jsx)("a",{href:"/login",children:"login"})," to view your profile."]});if(z||!t)return(0,O.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,O.jsx)(p.A,{})});return(0,O.jsxs)(x.A,{maxWidth:"lg",sx:{mt:0,mb:4},children:[(0,O.jsx)(k.A,{links:[{label:e("breadcrumbs.profile")}]}),(0,O.jsxs)(i.Ay,{container:!0,spacing:4,children:[(0,O.jsx)(i.Ay,{item:!0,xs:12,md:4,children:(0,O.jsxs)(h.A,{sx:{p:2},children:[(0,O.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",flexDirection:"column",mb:2},children:[(0,O.jsx)(g.A,{sx:{width:80,height:80,mb:2,bgcolor:"primary.main"},children:t.avatarUrl?(0,O.jsx)("img",{src:t.avatarUrl,alt:t.fullName,width:"100%"}):(0,O.jsx)(a.A,{variant:"h4",children:t.fullName.charAt(0)})}),(0,O.jsx)(a.A,{variant:"h5",fontWeight:"bold",children:t.fullName}),(0,O.jsx)(a.A,{variant:"body1",color:"text.secondary",children:t.email}),"ADMIN"===t.role&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(u.A,{label:"".concat(e("profile.role"),": ").concat(t.role),color:"info",size:"small",sx:{mt:1}}),(0,O.jsx)(d.A,{variant:"outlined",size:"small",onClick:()=>{L(),P(m?"/":"/admin/dashboard")},sx:{mt:1},children:e(m?"profile.switchToUserView":"profile.switchToAdminView")})]})]}),(0,O.jsx)(n.A,{}),(0,O.jsxs)(f.A,{component:"nav",children:[(0,O.jsxs)(v.A,{selected:"details"===E,onClick:()=>R("details"),children:[(0,O.jsx)(j.A,{children:(0,O.jsx)(C.A,{})}),(0,O.jsx)(y.A,{primary:e("profile.myDetails")})]}),(0,O.jsxs)(v.A,{selected:"orders"===E,onClick:()=>R("orders"),children:[(0,O.jsx)(j.A,{children:(0,O.jsx)(S.A,{})}),(0,O.jsx)(y.A,{primary:e("profile.myOrders")})]}),(0,O.jsxs)(v.A,{selected:"settings"===E,onClick:()=>R("settings"),children:[(0,O.jsx)(j.A,{children:(0,O.jsx)(w.A,{})}),(0,O.jsx)(y.A,{primary:e("profile.settings")})]}),(0,O.jsxs)(v.A,{onClick:()=>{o(),P("/login")},sx:{color:"error.main"},children:[(0,O.jsx)(j.A,{children:(0,O.jsx)(I.A,{sx:{color:"error.main"}})}),(0,O.jsx)(y.A,{primary:e("profile.logout")})]})]})]})}),(0,O.jsx)(i.Ay,{item:!0,xs:12,md:8,children:(0,O.jsx)(h.A,{sx:{p:4},children:(()=>{switch(E){case"details":return(0,O.jsx)(D,{user:t,onUpdate:r});case"orders":return(0,O.jsx)(B,{});case"settings":return(0,O.jsx)(a.A,{children:"Settings page is under construction."});default:return null}})()})})]})]})}}}]);
//# sourceMappingURL=703.f9ad11e5.chunk.js.map