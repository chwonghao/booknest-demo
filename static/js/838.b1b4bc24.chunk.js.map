{"version":3,"file":"static/js/838.b1b4bc24.chunk.js","mappings":"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","sources":["components/ProductCard.jsx","components/PromotionalBanners.jsx","components/CategoryBar.jsx","components/CategoryProductSection.jsx","pages/HomePage.jsx","api/categoryApi.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Box, Typography, Card, CardContent, CardMedia, Button, Chip, CardActionArea } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport RemoveShoppingCartIcon from '@mui/icons-material/RemoveShoppingCart';\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { CartContext } from '../context/CartContext';\nimport { toast } from 'react-toastify';\n\nconst ProductCard = ({ product, showAddToCartButton = true }) => {\n    const { t, i18n } = useTranslation();\n    const { addItem } = useContext(CartContext);\n    // Mock discount calculation if originalPrice is available\n    const discount = product.originalPrice ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100) : 0;\n    const isOutOfStock = product.stockQuantity === 0;\n\n    const handleAddToCart = (e) => {\n        e.preventDefault(); // Stop the card's navigation event\n        e.stopPropagation(); // Stop event bubbling\n        addItem(product);\n        toast.success(t('product.addedToCart', { name: product.name }));\n    };\n\n    const formatPrice = (price) => {\n        if (price === null || price === undefined) return '';\n        const currentLang = i18n.language.split('-')[0];\n        if (currentLang === 'vi') {\n          // Tạm thời giả định tỉ giá 1 USD = 25,000 VND.\n          const vndPrice = price * 25000;\n          return `${vndPrice.toLocaleString('vi-VN')} ₫`;\n        }\n        return `$${price.toFixed(2)}`;\n      };\n\n    return (\n        <Card sx={{ \n            height: '100%', \n            display: 'flex', \n            flexDirection: 'column',\n            opacity: isOutOfStock ? 0.6 : 1,\n            position: 'relative'\n        }}>\n            <CardActionArea component={RouterLink} to={`/products/${product.id}`} sx={{ flexGrow: 1 }}>\n                <Box sx={{ position: 'relative' }}>\n                    <CardMedia\n                        component=\"img\"\n                        height=\"240\"\n                        image={product.imageUrl} // Placeholder image\n                        alt={product.name}\n                    />\n                    {discount > 0 && (\n                        <Chip \n                            label={`-${discount}%`} \n                            color=\"secondary\" \n                            size=\"small\"\n                            sx={{ position: 'absolute', top: 8, right: 8, fontWeight: 'bold' }} \n                        />\n                    )}\n                    {isOutOfStock && (\n                        <Chip \n                            label={t('product.outOfStock')}\n                            color=\"error\" \n                            size=\"small\"\n                            sx={{ position: 'absolute', top: 8, left: 8, fontWeight: 'bold' }} \n                        />\n                    )}\n                </Box>\n                <CardContent>\n                    <Typography gutterBottom variant=\"h6\" component=\"div\" noWrap title={product.name}>\n                        {product.name}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\" mb={1}>\n                        {/* FIX: product.authors is an array of objects. We need to map over it to get the names. */}\n                        {(Array.isArray(product.authors) && product.authors.length > 0)\n                            ? product.authors.map(author => author.name).join(', ')\n                            : t('product.unknownAuthor')\n                        }\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <Typography variant=\"h5\" color=\"primary.main\" fontWeight=\"bold\">\n                            {formatPrice(product.price)}\n                        </Typography>\n                        {discount > 0 && (\n                            <Typography variant=\"body2\" sx={{ textDecoration: 'line-through' }} color=\"text.secondary\">\n                                {formatPrice(product.originalPrice)}\n                            </Typography>\n                        )}\n                    </Box>\n                </CardContent>\n            </CardActionArea>\n            {showAddToCartButton && (\n                <Box sx={{ p: 2, pt: 0 }}>\n                    <Button \n                        fullWidth \n                        variant=\"contained\" \n                        color=\"primary\" \n                        startIcon={isOutOfStock ? <RemoveShoppingCartIcon /> : <AddShoppingCartIcon />}\n                        onClick={handleAddToCart}\n                        disabled={isOutOfStock}\n                        sx={{ bgcolor: isOutOfStock ? 'grey.400' : 'primary.main' }}\n                    >\n                        {isOutOfStock ? t('product.outOfStock') : t('product.addToCart')}\n                    </Button>\n                </Box>\n            )}\n        </Card>\n    );\n}\n\nexport default ProductCard;\n","import React from 'react';\nimport { Box, Typography, Paper } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { Navigation, Pagination, Autoplay } from 'swiper/modules';\n\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst PromotionalBanners = () => {\n  const { t } = useTranslation();\n  return (\n  <Box mb={4}>\n    <Swiper\n      modules={[Navigation, Pagination, Autoplay]}\n      spaceBetween={30}\n      slidesPerView={1}\n      navigation\n      pagination={{ clickable: true }}\n      autoplay={{ delay: 3500 }}\n      loop={true}\n    >\n      {[...Array(3)].map((_, index) => (\n        <SwiperSlide key={index}>\n          <Paper \n            elevation={3}\n            sx={{ \n              height: 350, \n              display: 'flex', \n              alignItems: 'center', \n              justifyContent: 'center',\n              borderRadius: 2,\n              background: 'linear-gradient(45deg, #0D7EBE 30%, #65A9D7 90%)',\n              color: 'white'\n            }}\n          >\n            <Typography variant=\"h3\" component=\"h2\" fontWeight=\"bold\">\n                {t('home.promotionBanner')} {index + 1}\n            </Typography>\n          </Paper>\n        </SwiperSlide>\n      ))}\n    </Swiper>\n  </Box>\n  );\n};\n\nexport default PromotionalBanners;\n","import React, { useEffect, useState } from 'react';\nimport { Box, Typography, Grid, Paper, CardActionArea } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { fetchCategories } from '../api/categoryApi';\nimport CategoryIcon from '@mui/icons-material/Category'; // Placeholder icon\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst CategoryBar = () => {\n    const { t } = useTranslation();\n    const [categories, setCategories] = useState([]);\n    \n    useEffect(() => {\n        const getCategories = async () => {\n            try {\n                const cats = await fetchCategories();\n                setCategories(cats.slice(0, 8)); // Limit to 8 categories for a clean look\n            } catch (error) {\n                console.error(\"Failed to fetch categories:\", error);\n            }\n        }\n        getCategories();\n    }, []);\n\n    return (\n        <Box mb={5}>\n            <Typography variant=\"h4\" gutterBottom fontWeight=\"bold\">\n                {t('home.categories')}\n            </Typography>\n            <Grid container spacing={2}>\n                {categories.map(cat => (\n                    <Grid item xs={6} sm={4} md={3} lg={1.5} key={cat.id} sx={{ display: 'flex' }}>\n                        <CardActionArea component={RouterLink} to={`/products?category=${cat.id}`} sx={{ borderRadius: 1, height: '100%' }}>\n                            <Paper \n                                elevation={1} \n                                sx={{ \n                                    p: 2, \n                                    width: '100%',\n                                    height: '100%',\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    transition: 'box-shadow 0.3s',\n                                    '&:hover': {\n                                        boxShadow: 3, \n                                    } \n                                }}\n                            >\n                                <CategoryIcon color=\"primary\" sx={{fontSize: 40, mb: 1}} />\n                                <Typography variant=\"subtitle1\" component=\"h3\" align=\"center\" sx={{ color: 'text.primary' }}>\n                                    {cat.name}\n                                </Typography>\n                            </Paper>\n                        </CardActionArea>\n                    </Grid>\n                ))}\n            </Grid>\n        </Box>\n    );\n}\n\nexport default CategoryBar;\n","import React, { useEffect, useState } from 'react';\r\nimport { Box, Typography, Grid, CircularProgress, Button } from '@mui/material';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { fetchProducts } from '../api/productApi';\r\nimport ProductCard from './ProductCard';\r\n\r\nconst CategoryProductSection = ({ category, showAddToCartButton = true }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const getProducts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const data = await fetchProducts({ categoryId: category.id, limit: 4 });\r\n        const sortedData = (data || []).sort((a, b) => {\r\n          if (a.stockQuantity > 0 && b.stockQuantity === 0) {\r\n            return -1;\r\n          }\r\n          if (a.stockQuantity === 0 && b.stockQuantity > 0) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        });\r\n        setProducts(sortedData);\r\n      } catch (err) {\r\n        console.error(`Failed to fetch products for category ${category.name}:`, err);\r\n        setProducts([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    getProducts();\r\n  }, [category]);\r\n\r\n  if (loading) {\r\n    return <CircularProgress sx={{ display: 'block', margin: 'auto', my: 4 }} />;\r\n  }\r\n\r\n  if (products.length === 0) {\r\n    return null; // Không hiển thị gì nếu danh mục không có sản phẩm\r\n  }\r\n\r\n  return (\r\n    <Box component=\"section\" sx={{ mb: 5 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n        <Typography variant=\"h4\" gutterBottom fontWeight=\"bold\">\r\n          {category.name}\r\n        </Typography>\r\n        <Button component={RouterLink} to={`/products?category=${category.id}`}>Xem thêm</Button>\r\n      </Box>\r\n      <Grid container spacing={3}>\r\n        {products.map((product) => (\r\n          <Grid item xs={12} sm={6} md={4} lg={3} key={product.id}>\r\n            <ProductCard product={product} showAddToCartButton={showAddToCartButton} />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CategoryProductSection;","import React, { useEffect, useState } from 'react';\nimport { Box, Typography, CircularProgress, Container } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { Navigation, Pagination, Autoplay } from 'swiper/modules';\n\n// Import Swiper styles\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination'; \nimport { fetchProducts } from '../api/productApi';\nimport { fetchCategories } from '../api/categoryApi';\n\n// Refactored Components\nimport PromotionalBanners from '../components/PromotionalBanners';\nimport CategoryBar from '../components/CategoryBar';\nimport ProductCard from '../components/ProductCard';\nimport CategoryProductSection from '../components/CategoryProductSection';\n\nconst HomePage = () => {\n  const { t } = useTranslation();\n  const [featuredProducts, setFeaturedProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true); // Chỉ dùng cho featured products\n  const [error, setError] = useState(null); // Chỉ dùng cho featured products\n\n  useEffect(() => {\n    // Lấy sản phẩm nổi bật\n    const getProducts = async () => {\n      try {\n        setLoading(true);\n        // Mock originalPrice for discount calculation demonstration\n        const data = (await fetchProducts({ type: 'featured' }))\n          .filter(p => p.stockQuantity > 0) // Lọc bỏ sản phẩm đã hết hàng\n          .map(p => ({\n            ...p, \n            originalPrice: p.price && p.price > 0 ? Math.round(p.price * 1.25) : 0\n          }));\n        setFeaturedProducts(data);\n        setError(null);\n      } catch (err) {\n        setError(err.message);\n        setFeaturedProducts([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getProducts();\n\n    // Lấy danh sách các danh mục\n    const getCategories = async () => {\n      try {\n        const cats = await fetchCategories();\n        setCategories(cats);\n      } catch (error) {\n        console.error(\"Failed to fetch categories on HomePage:\", error);\n      }\n    };\n    getCategories();\n  }, []);\n\n  return (\n    <Container maxWidth=\"lg\">\n        <PromotionalBanners />\n        <CategoryBar />\n      \n        <Box component=\"section\" sx={{ mb: 5 }}>\n            <Typography variant=\"h4\" gutterBottom fontWeight=\"bold\">\n                {t('home.featuredBooks')}\n            </Typography>\n            {loading && <CircularProgress />}\n            {error && <Typography color=\"error\" align=\"center\">{error}</Typography>}\n            <Box sx={{ \n              '& .swiper': { overflow: 'visible' }, // Cho phép pagination hiển thị bên ngoài container\n              '& .swiper-pagination': {\n                bottom: '-25px', // Di chuyển các chấm tròn xuống dưới\n              },\n              '& .swiper-pagination-bullet-active': { // Tùy chỉnh màu cho bullet đang active\n                backgroundColor: 'primary.main'\n              }\n            }}>\n              <Swiper\n                modules={[Navigation, Pagination, Autoplay]}\n                spaceBetween={24}\n                slidesPerView={4}\n                navigation\n                pagination={{ clickable: true }}\n                autoplay={{ delay: 3000, disableOnInteraction: false }}\n                loop={true}\n                breakpoints={{\n                  320: { slidesPerView: 1, spaceBetween: 10 },\n                  600: { slidesPerView: 2, spaceBetween: 15 },\n                  900: { slidesPerView: 3, spaceBetween: 20 },\n                  1200: { slidesPerView: 4, spaceBetween: 24 },\n                }}\n              >\n                {featuredProducts.map((product) => (\n                  <SwiperSlide key={product.id} style={{ height: 'auto' }}>\n                    <ProductCard product={product} showAddToCartButton={false} />\n                  </SwiperSlide>\n                ))}\n              </Swiper>\n            </Box>\n        </Box>\n\n        {/* Render các section sản phẩm theo từng danh mục */}\n        {categories.map(category => (\n          <CategoryProductSection key={category.id} category={category} showAddToCartButton={false} />\n        ))}\n    </Container>\n  );\n};\n\nexport default HomePage;\n","// MOCK IMPLEMENTATION\r\nimport { fetchProducts } from './productApi'; // Sử dụng productApi đã được mock\r\n\r\nconst mockCategories = [\r\n    { id: 1, name: \"Lịch sử\" },\r\n    { id: 2, name: \"Tiểu thuyết\" },\r\n    { id: 3, name: \"Kỹ năng sống\" },\r\n    { id: 4, name: \"Khoa học\" },\r\n    { id: 5, name: \"Kinh tế\" },\r\n];\r\n\r\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\nexport async function fetchCategories() {\r\n    await delay(300);\r\n    console.log(\"MOCK: fetchCategories\");\r\n    return [...mockCategories];\r\n}\r\n\r\nexport async function fetchCategoryById(id) {\r\n    await delay(100);\r\n    console.log(\"MOCK: fetchCategoryById\", { id });\r\n    const category = mockCategories.find(c => c.id.toString() === id.toString());\r\n    return category || null;\r\n}\r\n\r\nexport async function fetchProductsByCategory(id) {\r\n    await delay(500);\r\n    console.log(\"MOCK: fetchProductsByCategory\", { id });\r\n    // Tái sử dụng logic từ productApi đã được mock\r\n    return fetchProducts({ categoryId: id });\r\n}\r\n"],"names":["_ref","product","showAddToCartButton","t","i18n","useTranslation","addItem","useContext","CartContext","discount","originalPrice","Math","round","price","isOutOfStock","stockQuantity","formatPrice","undefined","language","split","concat","toLocaleString","toFixed","_jsxs","Card","sx","height","display","flexDirection","opacity","position","children","CardActionArea","component","RouterLink","to","id","flexGrow","Box","_jsx","CardMedia","image","imageUrl","alt","name","Chip","label","color","size","top","right","fontWeight","left","CardContent","Typography","gutterBottom","variant","noWrap","title","mb","Array","isArray","authors","length","map","author","join","alignItems","gap","textDecoration","p","pt","Button","fullWidth","startIcon","RemoveShoppingCartIcon","AddShoppingCartIcon","onClick","e","preventDefault","stopPropagation","toast","success","disabled","bgcolor","PromotionalBanners","Swiper","modules","Navigation","Pagination","Autoplay","spaceBetween","slidesPerView","navigation","pagination","clickable","autoplay","delay","loop","_","index","SwiperSlide","Paper","elevation","justifyContent","borderRadius","background","CategoryBar","categories","setCategories","useState","useEffect","async","cats","fetchCategories","slice","error","console","getCategories","Grid","container","spacing","cat","item","xs","sm","md","lg","width","transition","boxShadow","CategoryIcon","fontSize","align","category","products","setProducts","loading","setLoading","sortedData","fetchProducts","categoryId","limit","sort","a","b","err","getProducts","CircularProgress","margin","my","ProductCard","HomePage","featuredProducts","setFeaturedProducts","setError","data","type","filter","_objectSpread","message","Container","maxWidth","overflow","bottom","backgroundColor","disableOnInteraction","breakpoints","style","CategoryProductSection","mockCategories","ms","Promise","resolve","setTimeout","log","fetchProductsByCategory"],"ignoreList":[],"sourceRoot":""}